{"version":3,"names":["_getJestObj","mock","useNavigation","jest","fn","mockReturnValue","navigate","_interopRequireDefault","require","_asyncToGenerator2","_reactNative","_uuid","_jestCucumber","_native","_Base","_axios","_jsxRuntime","_require","uuid","uuidv4","feature","loadFeature","navigation","screen","defineFeature","test","_ref","given","when","and","then","render","jsx","default","axios","get","mockResolvedValueOnce","data","Title","Year","Rated","Released","Runtime","Genre","Director","Writer","Actors","Plot","Language","Poster","Ratings","Source","Value","imdbRating","imdbVotes","imdbID","expect","toBeTruthy","movieTab","getByTestId","act","fireEvent","press","searchBar","submitButton","changeText","waitFor","movieTitle","getByText","movieRating","movieYear","movieCard","toBeCalled"],"sources":["base.steps.tsx"],"sourcesContent":["import {act, fireEvent, render, waitFor} from '@testing-library/react-native';\r\nimport 'react-native-get-random-values';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport {loadFeature, defineFeature} from 'jest-cucumber';\r\nimport {useNavigation} from '@react-navigation/native';\r\nimport {NativeStackNavigationProp} from '@react-navigation/native-stack';\r\nimport Base from './../../Base';\r\nimport axios from 'axios';\r\nconst uuid = uuidv4();\r\nconst feature = loadFeature('Apps/features/base.feature');\r\nconst navigation = useNavigation<NativeStackNavigationProp<any>>();\r\njest.mock('axios');\r\njest.mock('@react-navigation/native', () => {\r\n  return {\r\n    useNavigation: jest.fn().mockReturnValue({\r\n      navigate: jest.fn(),\r\n    }),\r\n  };\r\n});\r\nlet screen: any;\r\ndefineFeature(feature, test => {\r\n  test('Search for a movie', ({given, when, and, then}) => {\r\n    screen = render(<Base />);\r\n    (axios.get as jest.Mock).mockResolvedValueOnce({\r\n      data: {\r\n        Title: 'Manmadhudu',\r\n        Year: '2002',\r\n        Rated: 'N/A',\r\n        Released: '20 Dec 2002',\r\n        Runtime: '142 min',\r\n        Genre: 'Comedy, Romance',\r\n        Director: 'Vijay K. Bhaskar',\r\n        Writer: 'Vijay K. Bhaskar, Trivikram Srinivas',\r\n        Actors: 'Nagarjuna Akkineni, Sonali Bendre, Anshu',\r\n        Plot: 'A misogynist is forced by circumstances to work with a woman.',\r\n        Language: 'Telugu',\r\n        Poster:\r\n          'https://m.media-amazon.com/images/M/MV5BOTE1M2IwMzktNjI1Mi00ZTFkLTg4MmMtNTZmMjk4YTdhODlkXkEyXkFqcGdeQXVyNjE2NTgxOTE@._V1_SX300.jpg',\r\n        Ratings: [{Source: 'Internet Movie Database', Value: '8.3/10'}],\r\n        imdbRating: '8.3',\r\n        imdbVotes: '4,096',\r\n        imdbID: 'tt0355742',\r\n      },\r\n    });\r\n    given('I am on the search page', () => {\r\n      expect(screen).toBeTruthy();\r\n    });\r\n    when('I select the \"Movie\" tab', () => {\r\n      const movieTab = screen.getByTestId('movie-tab');\r\n      act(() => {\r\n        fireEvent.press(movieTab);\r\n      });\r\n    });\r\n    and('I enter \"Manmadhudu\" in the search input and hit submit', async () => {\r\n      const searchBar = screen.getByTestId('search-movie');\r\n      const submitButton = screen.getByTestId('submit-button');\r\n      act(() => {\r\n        fireEvent.changeText(searchBar, 'Manmadhudu');\r\n        fireEvent.press(submitButton);\r\n      });\r\n    });\r\n\r\n    then('I should see the search results card', async () => {\r\n      await waitFor(() => {\r\n        const movieTitle = screen.getByText('Manmadhudu');\r\n        const movieRating = screen.getByText('Rating: N/A');\r\n        const movieYear = screen.getByText('2002');\r\n        expect(movieTitle).toBeTruthy();\r\n        expect(movieRating).toBeTruthy();\r\n        expect(movieYear).toBeTruthy();\r\n      });\r\n    });\r\n\r\n    and('I should be able to click the card to view more details', async () => {\r\n      const movieCard = screen.getByTestId('movie-card');\r\n      act(() => {\r\n        fireEvent.press(movieCard);\r\n      });\r\n      expect(navigation.navigate).toBeCalled();\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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"}